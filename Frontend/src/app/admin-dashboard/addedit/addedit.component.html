<!-- <div mat-dialog-title>
  {{data ? 'Edit MedRep' : 'Add New MedRep'}}
</div>

<div class="content" mat-dialog-content>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>First Name</mat-label>
        <input matInput formControlName="first_name">
        <mat-error *ngIf="userForm.get('first_name')?.hasError('required')">
          First Name is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('first_name')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Last Name</mat-label>
        <input matInput formControlName="last_name">
        <mat-error *ngIf="userForm.get('last_name')?.hasError('required')">
          Last Name is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('last_name')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>
    </div>
    
    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email">
        <mat-error *ngIf="userForm.get('email')?.hasError('required')">
          Email is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('email')">
          Enter a valid email.
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('unique')">
          This email is already in use.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Password</mat-label>
        <input matInput formControlName="password" type="password">
        <mat-error *ngIf="userForm.get('password')?.hasError('required')">
          Password is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('password')?.hasError('minlength')">
          Minimum length is 8 characters.
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>City</mat-label>
        <input matInput formControlName="city">
        <mat-error *ngIf="userForm.get('city')?.hasError('required')">
          City is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('city')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>State</mat-label>
        <input matInput formControlName="state">
        <mat-error *ngIf="userForm.get('state')?.hasError('required')">
          State is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('state')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Street</mat-label>
        <input matInput formControlName="street">
        <mat-error *ngIf="userForm.get('street')?.hasError('required')">
          Street is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('street')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Territory</mat-label>
        <input matInput formControlName="territory">
        <mat-error *ngIf="userForm.get('territory')?.hasError('required')">
          Territory is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('territory')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Phone Number</mat-label>
        <input matInput formControlName="phone_number">
        <mat-error *ngIf="userForm.get('phone_number')?.hasError('required')">
          Phone Number is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('phone_number')?.hasError('maxlength')">
          Maximum length is 20 characters.
        </mat-error>
      </mat-form-field>

    </div>

    <div class="form-row">
      <mat-label>Gender</mat-label>
      <mat-radio-group formControlName="gender" aria-label="Select an option" class="gender-group">
        <mat-radio-button value="Male">Male</mat-radio-button>
        <mat-radio-button value="Female">Female</mat-radio-button>
        <mat-error *ngIf="userForm.get('gender')?.hasError('pattern')">
          Please select Male or Female.
        </mat-error>
      </mat-radio-group>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Choose a date</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="birthDate">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

    </div>

    <div mat-dialog-actions class="action">
      <button mat-raised-button type="button" [mat-dialog-close]="false">Cancel</button>
      <button mat-raised-button type="submit" class="save">{{data ? 'Update' :'Save'}}</button>
    </div>
  </form>
</div> -->


<!-- addedit.component.html -->


<div mat-dialog-title>
  {{data ? 'Edit MedRep' : 'Add New MedRep'}}
</div>

<div class="content" mat-dialog-content>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>First Name</mat-label>
        <input matInput formControlName="first_name">
        <mat-error *ngIf="userForm.get('first_name')?.hasError('required')">
          First Name is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('first_name')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Last Name</mat-label>
        <input matInput formControlName="last_name">
        <mat-error *ngIf="userForm.get('last_name')?.hasError('required')">
          Last Name is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('last_name')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>
    </div>
    
    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email">
        <mat-error *ngIf="userForm.get('email')?.hasError('required')">
          Email is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('email')">
          Enter a valid email.
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('unique')">
          This email is already in use.
        </mat-error>
      </mat-form-field>
    </div>

    <fieldset>
      <legend>Medical Rep Address*</legend>
      
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>State</mat-label>
          <mat-select formControlName="state" (selectionChange)="onStateChange($event.value)">
            <mat-option *ngFor="let state of states" [value]="state.id">{{ state.name }}</mat-option>
          </mat-select>
          <mat-error *ngIf="userForm.get('state')?.hasError('required')">
            State is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>City</mat-label>
          <mat-select formControlName="city">
            <mat-option *ngFor="let city of cities" [value]="city.id">{{ city.name }}</mat-option>
          </mat-select>
          <mat-error *ngIf="userForm.get('city')?.hasError('required')">
            City is required.
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Street</mat-label>
          <input matInput formControlName="street">
          <mat-error *ngIf="userForm.get('street')?.hasError('required')">
            Street is required.
          </mat-error>
          <mat-error *ngIf="userForm.get('street')?.hasError('maxlength')">
            Maximum length is 255 characters.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Territory</mat-label>
          <input matInput formControlName="territory">
          <mat-error *ngIf="userForm.get('territory')?.hasError('required')">
            Territory is required.
          </mat-error>
          <mat-error *ngIf="userForm.get('territory')?.hasError('maxlength')">
            Maximum length is 255 characters.
          </mat-error>
        </mat-form-field>
      </div>
    </fieldset>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Phone Number</mat-label>
        <input matInput formControlName="phone_number">
        <mat-error *ngIf="userForm.get('phone_number')?.hasError('required')">
          Phone Number is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('phone_number')?.hasError('maxlength')">
          Maximum length is 20 characters.
        </mat-error>
      </mat-form-field>

    </div>

    <div class="form-row">
      <mat-label>Gender</mat-label>
      <mat-radio-group formControlName="gender" aria-label="Select an option" class="gender-group">
        <mat-radio-button value="Male">Male</mat-radio-button>
        <mat-radio-button value="Female">Female</mat-radio-button>
        <mat-error *ngIf="userForm.get('gender')?.hasError('pattern')">
          Please select Male or Female.
        </mat-error>
      </mat-radio-group>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Birth Date</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="birthDate">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="userForm.get('birthDate')?.hasError('required')">
          Birth Date is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('birthDate')?.hasError('ageInvalid')">
          User must be older than 20 years.
        </mat-error>
      </mat-form-field>
    </div>

    <div mat-dialog-actions class="action">
      <button mat-raised-button type="button" [mat-dialog-close]="false">Cancel</button>
      <button mat-raised-button type="submit" class="save">{{data ? 'Update' :'Save'}}</button>
    </div>
  </form>
</div>
